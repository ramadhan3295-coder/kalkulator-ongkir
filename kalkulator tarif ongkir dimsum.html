<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Tarif Ongkir Dimsum</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; background: #fafafa; }
    h1 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #f0f0f0; }
    .note { font-size: 0.9em; color: #555; margin-top: 15px; }
    .input-box { margin: 15px 0; text-align: center; }
    .input-box input { padding: 5px; width: 120px; }
  </style>
</head>
<body>

<h1>üí∏ Tarif Ongkir Dimsum</h1>

<div class="input-box">
  <label>Harga bensin (Rp/liter): </label>
  <input type="number" id="fuelPrice" value="15000">
  <button onclick="updateFuel()">Update</button>
</div>

<div class="input-box">
  <label>Minimal pcs gratis ongkir (&gt;35 km): </label>
  <input type="number" id="minFreePcs" value="65">
  <button onclick="updateFuel()">Set</button>
</div>

<div class="input-box">
  <label>Hitung ongkir untuk jarak (km): </label>
  <input type="number" id="jarakInput" placeholder="cth: 30">
  <button onclick="calcOngkir()">Hitung</button>
  <div id="ongkirResult" style="margin-top:12px;font-weight:bold;line-height:1.6"></div>
</div>

<table id="ongkirTable">
  <thead>
    <tr>
      <th>Jarak</th>
      <th>Tarif Normal</th>
      <th>Gratis Ongkir (min pcs)</th>
      <th>Estimasi BBM (PP)</th>
      <th>Sisa untuk jasa</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h1>üí∏ Tarif Ongkir Dimsum</h1>
<table border="1" cellspacing="0" cellpadding="6" style="border-collapse:collapse;width:100%;text-align:center;">
  <thead style="background:#f0f0f0;">
    <tr>
      <th>Jarak</th>
      <th>Tarif Normal</th>
      <th>Gratis Ongkir (min pcs)</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0‚Äì3 km</td><td>Rp 5.000</td><td>10 pcs</td></tr>
    <tr><td>3‚Äì5 km</td><td>Rp 8.000</td><td>15 pcs</td></tr>
    <tr><td>5‚Äì8 km</td><td>Rp 10.000</td><td>20 pcs</td></tr>
    <tr><td>8‚Äì12 km</td><td>Rp 13.000</td><td>25 pcs</td></tr>
    <tr><td>12‚Äì15 km</td><td>Rp 15.000</td><td>30 pcs</td></tr>
    <tr><td>15‚Äì20 km</td><td>Rp 19.000</td><td>35 pcs</td></tr>
    <tr><td>20‚Äì25 km</td><td>Rp 23.000</td><td>45 pcs</td></tr>
    <tr><td>25‚Äì30 km</td><td>Rp 30.000</td><td>55 pcs</td></tr>
    <tr><td>30‚Äì35 km</td><td>Rp 35.000</td><td>65 pcs</td></tr>
    <tr><td>&gt;35 km</td><td>Rp 40.000+ / nego admin</td><td>75+ pcs</td></tr>
  </tbody>
</table>

<p style="margin-top:10px;font-size:14px;">
  ‚úîÔ∏è <span style="color:red;">Berlaku untuk semua varian: Frozen / Original / Mentai</span><br>
  ‚úîÔ∏è <span style="color:red;">Gratis ongkir sesuai minimal pcs di tabel, jika pembelian kurang dari minimal pcs, tarif normal berlaku</span><br>
  ‚úîÔ∏è <span style="color:red;">Untuk jarak &gt;35 km, hubungi admin di WA: 0877-7713-1904</span>
</p>

<script>
const data = [
  {jarak:'0‚Äì3 km', ongkir:5000, minPcs:10, dist:3},
  {jarak:'3‚Äì5 km', ongkir:8000, minPcs:15, dist:5},
  {jarak:'5‚Äì8 km', ongkir:10000, minPcs:20, dist:8},
  {jarak:'8‚Äì12 km', ongkir:13000, minPcs:25, dist:12},
  {jarak:'12‚Äì15 km', ongkir:15000, minPcs:30, dist:15},
  {jarak:'15‚Äì20 km', ongkir:19000, minPcs:35, dist:20},
  {jarak:'20‚Äì25 km', ongkir:23000, minPcs:45, dist:25},
  {jarak:'25‚Äì30 km', ongkir:30000, minPcs:55, dist:30},
  {jarak:'30‚Äì35 km', ongkir:35000, minPcs:65, dist:35},
];

let fuelPrice = 15000;
let minFreePcsOver35 = 65;

function renderTable(){
  const tbody = document.querySelector('#ongkirTable tbody');
  tbody.innerHTML = '';
  const fuelCostPerKm = fuelPrice / 35; // asumsi 1 liter = 35 km
  data.forEach(row => {
    const bbm = (row.dist*2) * fuelCostPerKm;
    const sisa = row.ongkir - bbm;
    tbody.innerHTML += `
      <tr>
        <td>${row.jarak}</td>
        <td>Rp ${row.ongkir.toLocaleString('id-ID')}</td>
        <td>${row.minPcs} pcs</td>
        <td>Rp ${Math.round(bbm).toLocaleString('id-ID')}</td>
        <td>${sisa>0?'Rp '+Math.round(sisa).toLocaleString('id-ID'):'0'}</td>
      </tr>`;
  });
}

function updateFuel(){
  fuelPrice = parseInt(document.getElementById('fuelPrice').value) || 15000;
  minFreePcsOver35 = parseInt(document.getElementById('minFreePcs').value) || 65;
  renderTable();
}

function calcOngkir(){
  const jarak = parseFloat(document.getElementById('jarakInput').value);
  if(isNaN(jarak) || jarak<=0){
    document.getElementById('ongkirResult').textContent = "Masukkan jarak yang benar.";
    return;
  }
  let row = data.find(r=>jarak<=r.dist);
  let tarif, pcsFree;
  if(row){
    tarif = row.ongkir;
    pcsFree = row.minPcs;
  } else {
    tarif = 40000 + ((jarak-35)*1000); // nego admin (estimasi)
    pcsFree = minFreePcsOver35;
  }

  const fuelCostPerKm = fuelPrice/35;
  const bbm = jarak*2*fuelCostPerKm;
  const sisa = tarif - bbm;

  document.getElementById('ongkirResult').innerHTML = `
    Jarak <b>${jarak} km</b><br>
    Ongkir: <b>Rp ${tarif.toLocaleString('id-ID')}</b><br>
    Estimasi BBM (PP): <b>Rp ${Math.round(bbm).toLocaleString('id-ID')}</b><br>
    Sisa untuk jasa penjual: <b>${sisa>0?'Rp '+Math.round(sisa).toLocaleString('id-ID'):'0'}</b><br>
    Gratis ongkir jika beli minimal: <b>${pcsFree} pcs</b>
  `;
}
renderTable();
</script>

</body>
</html>
